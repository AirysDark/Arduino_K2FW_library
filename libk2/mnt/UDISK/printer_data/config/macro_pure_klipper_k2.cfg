[gcode_macro PAUSE]
rename_existing: PAUSE_BASE
description: Safe pause (K2 Combo)
gcode:
  _MSG T="PAUSE"
  PAUSE_BASE
  {% set r = printer['gcode_macro _CLIENT'].retract %}
  {% set rs = printer['gcode_macro _CLIENT'].retract_speed %}
  G92 E0
  G1 E-{r} F{rs*60}
  _SAFE_ZHOP
  PARK

[gcode_macro RESUME]
rename_existing: RESUME_BASE
description: Safe resume (K2 Combo)
gcode:
  _MSG T="RESUME"
  {% set ur = printer['gcode_macro _CLIENT'].unretract %}
  {% set urs = printer['gcode_macro _CLIENT'].unretract_speed %}
  G92 E0
  G1 E{ur} F{urs*60}
  RESUME_BASE